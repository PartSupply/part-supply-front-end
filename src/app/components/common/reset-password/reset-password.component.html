
<app-header></app-header>
<div id="main-div">
	<div class="container">
		<h3 class="headline"> Welcome To Part Supply</h3>
		<h4 class="h3-headline">Buyer / Seller Portal</h4>
		<div class="d-flex justify-content-center h-100">
			<div class="card" [style.height.px]="height">
				<div class="card-header">
					<h3>Reset Password</h3>
				</div>
				<div class="card-body">
					<form [formGroup]= "userLoginForm" novalidate>
						<div class="input-group form-group username-field">
							  <label class="labels"for="">Email</label>
							<input [class.is-invalid] = "userLoginForm.get('email').invalid && userLoginForm.get('email').touched" formControlName = "email" type="email" class="form-control" placeholder="Type Here..."  required >					
						</div>
	
						<div *ngIf="(userLoginForm.get('email').invalid) && (userLoginForm.get('email').touched) || (userLoginForm.get('email').dirty)">
							<small *ngIf="(userLoginForm.get('email').errors?.required)" class="text-danger"> email is required</small>
							<small *ngIf="(userLoginForm.get('email').errors?.pattern)" class="text-danger">Please provide a valid email address</small>
						</div>
						<div class="form-group">
							<input [disabled]= "!userLoginForm.get('email').valid" type="submit" value="Get OneTime Pass Code" (click)="getOtp()" class="btn btn-danger">
						</div>
                        <div *ngIf="isEmailInvalid" class="input-group form-group username-field">
                            <label class="labels"for="" style="font-size: 12px; color: red;">**Provided email is not valid.</label>
                        </div>

                        <div *ngIf="isOtpSend">
                            <div class="input-group form-group username-field">
                                <label class="labels"for="" style="font-size: 12px;">**Please check your email and put One time passcode below.</label>
                            </div>
                            <div class="input-group form-group username-field">
                                <label class="labels"for="">One Time Passcode</label>
                                <input [class.is-invalid] = "userLoginForm.get('otp').invalid && userLoginForm.get('otp').touched" formControlName = "otp" type="text" class="form-control" placeholder="Type OTP Here..."  required >					
                            </div>
      
                            <div *ngIf="(userLoginForm.get('otp').invalid) && (userLoginForm.get('otp').touched) || (userLoginForm.get('otp').dirty)">
                                <small *ngIf="(userLoginForm.get('otp').errors?.required)" class="text-danger"> OTP is required</small>
                            </div>
    
                            <div class="input-group form-group login-field">
                                <label class="labels"for="">Password </label>
                                <input [class.is-invalid] = "userLoginForm.get('password').invalid && userLoginForm.get('password').touched" formControlName = "password" type="password" class="form-control" placeholder="Type Here..." required>
                            </div>
                            <div *ngIf="(userLoginForm.get('password').invalid) && (userLoginForm.get('password').touched) || (userLoginForm.get('password').dirty)">
                                <small *ngIf="(userLoginForm.get('password').errors?.required)" class="text-danger"> password is required</small>
                            </div>
    
                            <div class="form-group">
                                <input [disabled]= "!userLoginForm.valid" type="submit" value="Change Password" (click) ="resetPassword()" class="btn btn-danger" >
                            </div>
                            <div *ngIf="passwordChangeError" class="input-group form-group username-field">
                                <label class="labels"for="" style="font-size: 12px; color: red;">**Provided one time passcode is not valid.</label>
                            </div>
                        </div>
					</form>
					
				</div>
				
				<app-footer class="homefooter"></app-footer>
			</div>
		</div>
	</div>
	
</div>
